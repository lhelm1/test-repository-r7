{"data":{"graph":{"edges":[{"edgeId":"045c0209-a838-49a3-a06a-280c5904ffbc","fromNodeId":"768a59c2-42f2-4210-88f1-64b319e1a6c1","parentNodeId":"be5bce0a-a44c-4807-84a2-f14bb88f4070","toNodeId":"90f58635-ff26-4e22-a99d-bf0ea3e730b2"},{"edgeId":"14dd4952-d92c-462c-849b-48aaf455d629","fromNodeId":"55952e0f-f39d-4ac2-ac83-32da6865d79c","toNodeId":"f3c8014e-69a0-4faf-9ae1-a034b4d62897"},{"edgeId":"190e5904-f07a-4457-966b-43b790ab6e30","fromNodeId":"be5bce0a-a44c-4807-84a2-f14bb88f4070","parentNodeId":"be5bce0a-a44c-4807-84a2-f14bb88f4070","toNodeId":"cfceff65-2c7e-43dd-89a3-4f7ed057b0c2"},{"edgeId":"27b8ab36-ec30-4630-bd48-e736005f77ed","fromNodeId":"741f7686-1de7-432a-b60d-b338a57056c0","toNodeId":"be5bce0a-a44c-4807-84a2-f14bb88f4070"},{"edgeId":"2e4be0c3-ac3d-418b-b684-992e693b5202","fromNodeId":"f3c8014e-69a0-4faf-9ae1-a034b4d62897","name":"Tags Provided","toNodeId":"5d9be209-7677-4ff8-bede-00cf84750fd5"},{"edgeId":"34cf159e-14be-4fc3-b3a3-cf71b62ca41a","fromNodeId":"3467a898-b0ac-4a58-bde8-aea8abda2812","parentNodeId":"be5bce0a-a44c-4807-84a2-f14bb88f4070","toNodeId":"768a59c2-42f2-4210-88f1-64b319e1a6c1"},{"edgeId":"37593b30-d3c5-47bf-bb87-df16987afee7","fromNodeId":"cfceff65-2c7e-43dd-89a3-4f7ed057b0c2","parentNodeId":"be5bce0a-a44c-4807-84a2-f14bb88f4070","toNodeId":"7334bd83-3224-4b49-9944-f4942c020a97"},{"edgeId":"6606b2f4-493f-45fd-9156-5e085a341305","fromNodeId":"21208458-e507-4072-9d82-2be925222275","toNodeId":"693b4f55-b827-46e8-920b-652f4d74be46"},{"edgeId":"668bd05c-9436-4cb0-ab14-f6aa4ebdd604","fromNodeId":"f3c8014e-69a0-4faf-9ae1-a034b4d62897","name":"No Tags Provided","toNodeId":"d2b17693-bfa8-429c-a957-42af2c5d7dd5"},{"edgeId":"68ea5876-c053-4a81-acbe-f7ad8240e1e0","fromNodeId":"6c7973e9-1155-4e65-a681-a449e5ed49de","toNodeId":"741f7686-1de7-432a-b60d-b338a57056c0"},{"edgeId":"78de758e-b633-4543-94a4-a8b0ab3dc240","fromNodeId":"7334bd83-3224-4b49-9944-f4942c020a97","parentNodeId":"be5bce0a-a44c-4807-84a2-f14bb88f4070","toNodeId":"3467a898-b0ac-4a58-bde8-aea8abda2812"},{"edgeId":"8c8f9ab1-5930-4cf5-88a0-cf0166997029","fromNodeId":"d4bf0b1c-a9bb-42ab-b89f-09c47e58c5dd"},{"edgeId":"b6839bac-74aa-49bd-a774-e7170637fa38","fromNodeId":"aa987347-178d-46cc-bbb0-2de794680c42","parentNodeId":"be5bce0a-a44c-4807-84a2-f14bb88f4070"},{"edgeId":"c781d5c4-fb09-485b-a656-a5091b32cdf3","fromNodeId":"90f58635-ff26-4e22-a99d-bf0ea3e730b2","parentNodeId":"be5bce0a-a44c-4807-84a2-f14bb88f4070","toNodeId":"aa987347-178d-46cc-bbb0-2de794680c42"},{"edgeId":"dc88ff20-0331-4515-a583-b7a5c9bfb54f","fromNodeId":"5d9be209-7677-4ff8-bede-00cf84750fd5","toNodeId":"21208458-e507-4072-9d82-2be925222275"},{"edgeId":"de8e9e3f-5f37-4b4d-94ea-17da5bc6d8c1","fromNodeId":"d2b17693-bfa8-429c-a957-42af2c5d7dd5","toNodeId":"21208458-e507-4072-9d82-2be925222275"},{"edgeId":"ea73f043-22b0-49d1-9157-e006b9e93a1e","fromNodeId":"be5bce0a-a44c-4807-84a2-f14bb88f4070","toNodeId":"d4bf0b1c-a9bb-42ab-b89f-09c47e58c5dd"},{"edgeId":"ff0650fc-9254-4cc2-b220-2659b7c59929","fromNodeId":"693b4f55-b827-46e8-920b-652f4d74be46","toNodeId":"6c7973e9-1155-4e65-a681-a449e5ed49de"}],"nodes":[{"nodeId":"21208458-e507-4072-9d82-2be925222275"},{"nodeId":"3467a898-b0ac-4a58-bde8-aea8abda2812","parentNodeId":"be5bce0a-a44c-4807-84a2-f14bb88f4070"},{"nodeId":"55952e0f-f39d-4ac2-ac83-32da6865d79c"},{"nodeId":"5d9be209-7677-4ff8-bede-00cf84750fd5"},{"nodeId":"693b4f55-b827-46e8-920b-652f4d74be46"},{"nodeId":"6c7973e9-1155-4e65-a681-a449e5ed49de"},{"nodeId":"7334bd83-3224-4b49-9944-f4942c020a97","parentNodeId":"be5bce0a-a44c-4807-84a2-f14bb88f4070"},{"nodeId":"741f7686-1de7-432a-b60d-b338a57056c0"},{"nodeId":"768a59c2-42f2-4210-88f1-64b319e1a6c1","parentNodeId":"be5bce0a-a44c-4807-84a2-f14bb88f4070"},{"nodeId":"90f58635-ff26-4e22-a99d-bf0ea3e730b2","parentNodeId":"be5bce0a-a44c-4807-84a2-f14bb88f4070"},{"nodeId":"aa987347-178d-46cc-bbb0-2de794680c42","parentNodeId":"be5bce0a-a44c-4807-84a2-f14bb88f4070"},{"nodeId":"be5bce0a-a44c-4807-84a2-f14bb88f4070"},{"nodeId":"cfceff65-2c7e-43dd-89a3-4f7ed057b0c2","parentNodeId":"be5bce0a-a44c-4807-84a2-f14bb88f4070"},{"nodeId":"d2b17693-bfa8-429c-a957-42af2c5d7dd5"},{"nodeId":"d4bf0b1c-a9bb-42ab-b89f-09c47e58c5dd"},{"nodeId":"f3c8014e-69a0-4faf-9ae1-a034b4d62897"}]},"name":"Slack-enabled export active worklows to Github","notes":"","steps":[{"metadata":{"isDisabled":false,"parameters":{"decisionEdgeIds":["dc88ff20-0331-4515-a583-b7a5c9bfb54f","de8e9e3f-5f37-4b4d-94ea-17da5bc6d8c1"],"variableSets":[{"arrayType":null,"inputBuilderSchemas":null,"name":"query_params","type":"string","variables":{"dc88ff20-0331-4515-a583-b7a5c9bfb54f":"{{[5d9be209-7677-4ff8-bede-00cf84750fd5].[content]}}","de8e9e3f-5f37-4b4d-94ea-17da5bc6d8c1":"{{[d2b17693-bfa8-429c-a957-42af2c5d7dd5].[content]}}"}}]}},"name":"Query Params","nodeId":"21208458-e507-4072-9d82-2be925222275","type":"join"},{"metadata":{"isDisabled":false,"parameters":{"input":{"content":"{{[cfceff65-2c7e-43dd-89a3-4f7ed057b0c2].[body_object]}}"},"type":"markdown"}},"name":"Exported Workflow JSON Body","nodeId":"3467a898-b0ac-4a58-bde8-aea8abda2812","type":"artifact"},{"metadata":{"customOutputSchema":{"definitions":{},"properties":{"github_folder_name":{"type":"string"},"limit":{"type":"integer"},"name":{"type":"string"},"offset":{"type":"string"},"repo_name":{"type":"string"},"repo_owner":{"type":"string"},"tags":{"items":{"type":"string"},"type":"array"}},"type":"object"},"options":{"webhookEnabled":true}},"name":"Trigger","nodeId":"55952e0f-f39d-4ac2-ac83-32da6865d79c","type":"trigger_api"},{"metadata":{"isDisabled":false,"parameters":{"input":{"content":"{{#each [55952e0f-f39d-4ac2-ac83-32da6865d79c].[tags]}}tags={{this}}\u0026{{/each}}limit={{[55952e0f-f39d-4ac2-ac83-32da6865d79c].[limit]}}\u0026name={{[55952e0f-f39d-4ac2-ac83-32da6865d79c].[name]}}\u0026offset={{[55952e0f-f39d-4ac2-ac83-32da6865d79c].[offset]}}"},"type":"markdown"}},"name":"Tags Query Param","nodeId":"5d9be209-7677-4ff8-bede-00cf84750fd5","type":"artifact"},{"metadata":{"connectionId":"f957111b-39bd-41f3-b8b1-1ebe7050ef9d","continueOnFailure":false,"customOutputSchema":{"definitions":{"body_object":{"properties":{"data":{"$ref":"#/definitions/data"}},"title":"Body Object","type":"object"},"data":{"properties":{"workflows":{"items":{"$ref":"#/definitions/data_workflows"},"type":"array"}},"type":"object"},"data_workflows":{"properties":{"publishedVersion":{"$ref":"#/definitions/publishedVersion"},"workflowId":{"type":"string"}},"type":"object"},"publishedVersion":{"properties":{"name":{"type":"string"}},"type":"object"}},"properties":{"body_object":{"$ref":"#/definitions/body_object","description":"Response payload from the server as an object. Note, if the response has invalid object structure (list, string..) plugin will wrap it with object map","order":1,"title":"Body Object"}},"title":"Variables","type":"object"},"identifier":"get","isCloud":false,"isDisabled":false,"parameters":{"input":{"headers":{},"route":"/connect/v2/workflows?state=active\u0026{{[21208458-e507-4072-9d82-2be925222275].[query_params]}}"}},"plugin":{"name":"rest","vendor":"rapid7","version":"5.0.3"}},"name":"Get Active Workflows","nodeId":"693b4f55-b827-46e8-920b-652f4d74be46","type":"action"},{"metadata":{"isDisabled":false,"parameters":{"stepControlParam":{"edgeId":"68ea5876-c053-4a81-acbe-f7ad8240e1e0","expression":{"left":{"args":[{"name":"693b4f55-b827-46e8-920b-652f4d74be46.body_object.data.workflows","type":"variable"}],"name":"length","type":"function"},"op":"\u003e","right":{"type":"literal","value":0},"type":"binary"},"expressionText":"length({{[693b4f55-b827-46e8-920b-652f4d74be46].[body_object].[data].[workflows]}}) \u003e 0"},"stopOnMatch":false}},"name":"Continue if Active Workflows Greater than 0","nodeId":"6c7973e9-1155-4e65-a681-a449e5ed49de","type":"filter"},{"metadata":{"isDisabled":false,"parameters":{"input":{"content":"{{[cfceff65-2c7e-43dd-89a3-4f7ed057b0c2].[body_object].[data].[name]}}"},"type":"markdown"}},"name":"Exported Workflow Name","nodeId":"7334bd83-3224-4b49-9944-f4942c020a97","type":"artifact"},{"metadata":{"isDisabled":false,"parameters":{"input":{"content":"{{#each [693b4f55-b827-46e8-920b-652f4d74be46].[body_object].[data].[workflows]}}\n{{workflowId}}\n{{/each}}"},"type":"markdown"}},"name":"Active Workflow IDs","nodeId":"741f7686-1de7-432a-b60d-b338a57056c0","type":"artifact"},{"metadata":{"continueOnFailure":false,"identifier":"encode","isCloud":true,"isDisabled":false,"parameters":{"input":{"content":"{{[3467a898-b0ac-4a58-bde8-aea8abda2812].[content]}}"}},"plugin":{"name":"base64","vendor":"rapid7","version":"1.1.6"}},"name":"Base64 Encode Exported Workflow Response","nodeId":"768a59c2-42f2-4210-88f1-64b319e1a6c1","type":"action"},{"metadata":{"connectionId":"d76b1ee4-81c1-4261-be01-2996a7367d63","continueOnFailure":false,"identifier":"put","isCloud":false,"isDisabled":false,"parameters":{"input":{"body":{"content":"{{[768a59c2-42f2-4210-88f1-64b319e1a6c1].[data]}}","message":""},"headers":{},"route":"/repos/{{[55952e0f-f39d-4ac2-ac83-32da6865d79c].[repo_owner]}}/{{[55952e0f-f39d-4ac2-ac83-32da6865d79c].[repo_name]}}/contents/{{[55952e0f-f39d-4ac2-ac83-32da6865d79c].[github_folder_name]}}/{{[7334bd83-3224-4b49-9944-f4942c020a97].[content]}}.json"}},"plugin":{"name":"rest","vendor":"rapid7","version":"5.0.3"}},"name":"Github Create File - 2","nodeId":"90f58635-ff26-4e22-a99d-bf0ea3e730b2","type":"action"},{"metadata":{"isDisabled":false,"parameters":{"input":{"content":"{{[90f58635-ff26-4e22-a99d-bf0ea3e730b2].[$success]}}"},"type":"markdown"}},"name":"Status of Github File Creation","nodeId":"aa987347-178d-46cc-bbb0-2de794680c42","type":"artifact"},{"metadata":{"parameters":{"customOutput":[{"input":{"expression":null,"value":"{{[7334bd83-3224-4b49-9944-f4942c020a97].[content]}}","valueType":"string"},"name":"Active Exported Workflows","outputType":"array"}],"innerEdgeId":"190e5904-f07a-4457-966b-43b790ab6e30","nextEdgeId":"ea73f043-22b0-49d1-9157-e006b9e93a1e","repeatVariable":"{{[693b4f55-b827-46e8-920b-652f4d74be46].[body_object].[data].[workflows]}}"}},"name":"Loop through List of Active Workflows IDs","nodeId":"be5bce0a-a44c-4807-84a2-f14bb88f4070","type":"loop"},{"metadata":{"connectionId":"f957111b-39bd-41f3-b8b1-1ebe7050ef9d","continueOnFailure":true,"customOutputSchema":{"definitions":{"body_object":{"properties":{"data":{"$ref":"#/definitions/body_object_data"}},"type":"object"},"body_object_data":{"properties":{"name":{"type":"string"}},"type":"object"}},"properties":{"body_object":{"$ref":"#/definitions/body_object","description":"Response payload from the server as an object. Note, if the response has invalid object structure (list, string..) plugin will wrap it with object map","order":1,"title":"Body Object"},"body_string":{"description":"Response payload from the server as a string","order":2,"title":"Body String","type":"string"},"headers":{"description":"Response headers from the server","order":4,"title":"Headers","type":"object"},"status":{"description":"Status code of the response from the server","order":3,"title":"Status","type":"integer"}},"title":"Variables","type":"object"},"identifier":"get","isCloud":false,"isDisabled":false,"parameters":{"input":{"headers":{},"route":"/connect/v2/workflows/{{[be5bce0a-a44c-4807-84a2-f14bb88f4070].[$item].[workflowId]}}/export"}},"plugin":{"name":"rest","vendor":"rapid7","version":"5.0.2"}},"name":"Export Workflow based on WorkflowID","nodeId":"cfceff65-2c7e-43dd-89a3-4f7ed057b0c2","type":"action"},{"metadata":{"isDisabled":false,"parameters":{"input":{"content":"limit={{[55952e0f-f39d-4ac2-ac83-32da6865d79c].[limit]}}\u0026name={{[55952e0f-f39d-4ac2-ac83-32da6865d79c].[name]}}\u0026offset={{[55952e0f-f39d-4ac2-ac83-32da6865d79c].[offset]}}"},"type":"markdown"}},"name":"Query Params w/o Tags","nodeId":"d2b17693-bfa8-429c-a957-42af2c5d7dd5","type":"artifact"},{"metadata":{"appName":"slack","chatOpsConnectionId":"75148d45-ae7b-4f9d-9708-f743fed2eff9","continueOnFailure":false,"identifier":"post_message","isDisabled":false,"parameters":{"input":{"attachments":[],"message":"These active workflows were successfully published to github in `{{[55952e0f-f39d-4ac2-ac83-32da6865d79c].[repo_name]}}/{{[55952e0f-f39d-4ac2-ac83-32da6865d79c].[github_folder_name]}}`:\n{{#each [be5bce0a-a44c-4807-84a2-f14bb88f4070].[Active Exported Workflows]}}\n* {{this}}\n{{/each}}\n","recipient":"#slack-test-notifications-lauren","thread_ts":""}}},"name":"Post Exported Active Workflow Names to Slack Message ","nodeId":"d4bf0b1c-a9bb-42ab-b89f-09c47e58c5dd","type":"action_chatops"},{"metadata":{"parameters":{"defaultEdgeId":"668bd05c-9436-4cb0-ab14-f6aa4ebdd604","stepControlParams":[{"edgeId":"2e4be0c3-ac3d-418b-b684-992e693b5202","expression":{"left":{"args":[{"name":"55952e0f-f39d-4ac2-ac83-32da6865d79c.tags","type":"variable"}],"name":"length","type":"function"},"op":"\u003e","right":{"type":"literal","value":0},"type":"binary"},"expressionText":"length({{[55952e0f-f39d-4ac2-ac83-32da6865d79c].[tags]}}) \u003e 0"},{"edgeId":"668bd05c-9436-4cb0-ab14-f6aa4ebdd604","expression":{},"expressionText":""}]}},"name":"Automated Decision - 1","nodeId":"f3c8014e-69a0-4faf-9ae1-a034b4d62897","type":"automated_decision"}],"summary":"This workflow retrieves a list of active workflows, exports each workflow, and creates a file on github. The purpose of this workflow is to backup the active workflows in your InsightConnect environment easily.","tags":["API"],"timeSavingsDisplayUnit":"minutes","timeSavingsSeconds":1800}}