{"data":{"graph":{"edges":[{"edgeId":"06435cac-a5ca-4219-9b61-876f9398e516","fromNodeId":"e014f637-cb60-4dee-b905-742be69c8360","toNodeId":"ac267e9f-c41b-491e-8138-cee11bf19cfe"},{"edgeId":"10ea57dc-e5e0-4381-bf09-b44ce600ed1e","fromNodeId":"779e2357-6e8e-4da7-9ed8-c7b96f01e1cd","name":"Submitted","toNodeId":"4be75869-ec44-4aec-a8bb-df626262e500"},{"edgeId":"3a688ccd-fbab-4598-a2ee-32e72e4ab988","fromNodeId":"5863a896-2c90-4fd9-b46c-1a4ecace7bd6","toNodeId":"3d4c4553-e504-4624-9db2-e8f943c15581"},{"edgeId":"3e86fba3-c3a4-4991-bf2c-3c2d8120ddbc","fromNodeId":"9911afb2-09f4-4a8c-9fc4-5f7f22cd8def"},{"edgeId":"41a7c098-5096-4b7d-87fe-c6e2ff5698d7","fromNodeId":"3a6ce83e-0fef-4697-8a59-819b41195722"},{"edgeId":"42cb7f50-e25a-4872-b2eb-e16dce3e206e","fromNodeId":"779e2357-6e8e-4da7-9ed8-c7b96f01e1cd","name":"Other"},{"edgeId":"489c79ac-2b26-48c9-81d7-c608a162b0f9","fromNodeId":"ac267e9f-c41b-491e-8138-cee11bf19cfe","name":"Approved","toNodeId":"3a6ce83e-0fef-4697-8a59-819b41195722"},{"edgeId":"4a2e801d-f649-4ac6-b9b0-f1c7f77a143b","fromNodeId":"3d4c4553-e504-4624-9db2-e8f943c15581","toNodeId":"779e2357-6e8e-4da7-9ed8-c7b96f01e1cd"},{"edgeId":"52c6a062-cec0-416e-b561-dc5089c6e048","fromNodeId":"4be75869-ec44-4aec-a8bb-df626262e500","name":"No","toNodeId":"e014f637-cb60-4dee-b905-742be69c8360"},{"edgeId":"6551e979-370b-41d6-9838-aff4d868fe31","fromNodeId":"ac267e9f-c41b-491e-8138-cee11bf19cfe","name":"Other"},{"edgeId":"69c69460-f4d5-4eac-b85e-147f749002d4","fromNodeId":"4be75869-ec44-4aec-a8bb-df626262e500","name":"Yes"},{"edgeId":"bdc77428-7349-4a8f-90de-6280fddefe6d","fromNodeId":"ac267e9f-c41b-491e-8138-cee11bf19cfe","name":"Changes Requested","toNodeId":"9911afb2-09f4-4a8c-9fc4-5f7f22cd8def"}],"nodes":[{"nodeId":"3a6ce83e-0fef-4697-8a59-819b41195722"},{"nodeId":"3d4c4553-e504-4624-9db2-e8f943c15581"},{"nodeId":"4be75869-ec44-4aec-a8bb-df626262e500"},{"nodeId":"5863a896-2c90-4fd9-b46c-1a4ecace7bd6"},{"nodeId":"779e2357-6e8e-4da7-9ed8-c7b96f01e1cd"},{"nodeId":"9911afb2-09f4-4a8c-9fc4-5f7f22cd8def"},{"nodeId":"ac267e9f-c41b-491e-8138-cee11bf19cfe"},{"nodeId":"e014f637-cb60-4dee-b905-742be69c8360"}]},"name":"TO BE DEL Github Pull Request - WIP","notes":"","steps":[{"metadata":{"appName":"slack","chatOpsConnectionId":"4ac5fcf2-8c37-4f5c-9bbf-8b2092bd5815","continueOnFailure":false,"identifier":"post_message","isDisabled":false,"parameters":{"input":{"attachments":[],"message":":approved: @{{[e014f637-cb60-4dee-b905-742be69c8360].[pr_slack_user]}} - Approved by {{[5863a896-2c90-4fd9-b46c-1a4ecace7bd6].[review].[user].[login]}} for {{[5863a896-2c90-4fd9-b46c-1a4ecace7bd6].[review].[html_url]}}","recipient":"#komand-test"}}},"name":"Post Approved Message","nodeId":"3a6ce83e-0fef-4697-8a59-819b41195722","type":"action_chatops"},{"metadata":{"isDisabled":false,"parameters":{"input":{"content":"{{[5863a896-2c90-4fd9-b46c-1a4ecace7bd6]}}{{[5863a896-2c90-4fd9-b46c-1a4ecace7bd6].[action]}}{{[5863a896-2c90-4fd9-b46c-1a4ecace7bd6].[review]}}{{[5863a896-2c90-4fd9-b46c-1a4ecace7bd6].[review].[user]}}{{[5863a896-2c90-4fd9-b46c-1a4ecace7bd6].[review].[user].[login]}}{{[5863a896-2c90-4fd9-b46c-1a4ecace7bd6].[review].[state]}}{{[5863a896-2c90-4fd9-b46c-1a4ecace7bd6].[review].[html_url]}}{{[5863a896-2c90-4fd9-b46c-1a4ecace7bd6].[pull_request]}}{{[5863a896-2c90-4fd9-b46c-1a4ecace7bd6].[pull_request].[user]}}{{[5863a896-2c90-4fd9-b46c-1a4ecace7bd6].[pull_request].[user].[login]}}{{[5863a896-2c90-4fd9-b46c-1a4ecace7bd6].[pull_request].[user]}}{{[5863a896-2c90-4fd9-b46c-1a4ecace7bd6].[requested_reviewer]}}{{[5863a896-2c90-4fd9-b46c-1a4ecace7bd6].[requested_reviewer].[login]}}"},"type":"markdown"}},"name":"Pull Request Review Summary","nodeId":"3d4c4553-e504-4624-9db2-e8f943c15581","type":"artifact"},{"metadata":{"parameters":{"defaultEdgeId":"69c69460-f4d5-4eac-b85e-147f749002d4","stepControlParams":[{"edgeId":"52c6a062-cec0-416e-b561-dc5089c6e048","expression":{"name":"5863a896-2c90-4fd9-b46c-1a4ecace7bd6.action","type":"variable"},"expressionText":"{{[5863a896-2c90-4fd9-b46c-1a4ecace7bd6].[action]}}"},{"edgeId":"69c69460-f4d5-4eac-b85e-147f749002d4","expression":{},"expressionText":""}]}},"name":"Is Reviewer also Owner?","nodeId":"4be75869-ec44-4aec-a8bb-df626262e500","type":"automated_decision"},{"description":"Github Pull Request Review Webhook","metadata":{"customOutputSchema":{"definitions":{"pull_request":{"properties":{"user":{"$ref":"#/definitions/pull_request_user"}},"type":"object"},"pull_request_user":{"properties":{"login":{"type":"string"}},"type":"object"},"requested_reviewer":{"properties":{"login":{"type":"string"}},"type":"object"},"review":{"properties":{"html_url":{"type":"string"},"state":{"type":"string"},"user":{"$ref":"#/definitions/user"}},"type":"object"},"user":{"properties":{"login":{"type":"string"}},"type":"object"}},"properties":{"action":{"type":"string"},"pull_request":{"$ref":"#/definitions/pull_request"},"requested_reviewer":{"$ref":"#/definitions/requested_reviewer"},"review":{"$ref":"#/definitions/review"}},"type":"object"}},"name":"Github Pull Request Review Webhook","nodeId":"5863a896-2c90-4fd9-b46c-1a4ecace7bd6","type":"trigger_api"},{"metadata":{"parameters":{"defaultEdgeId":"42cb7f50-e25a-4872-b2eb-e16dce3e206e","stepControlParams":[{"edgeId":"10ea57dc-e5e0-4381-bf09-b44ce600ed1e","expression":{"left":{"left":{"name":"5863a896-2c90-4fd9-b46c-1a4ecace7bd6.action","type":"variable"},"op":"=","right":{"type":"literal","value":"submitted"},"type":"binary"},"op":"OR","right":{"left":{"name":"5863a896-2c90-4fd9-b46c-1a4ecace7bd6.action","type":"variable"},"op":"=","right":{"type":"literal","value":"edited"},"type":"binary"},"type":"binary"},"expressionText":"({{[5863a896-2c90-4fd9-b46c-1a4ecace7bd6].[action]}} = \"submitted\" OR {{[5863a896-2c90-4fd9-b46c-1a4ecace7bd6].[action]}} = \"edited\")"},{"edgeId":"42cb7f50-e25a-4872-b2eb-e16dce3e206e","expression":{},"expressionText":""}]}},"name":"Action Type","nodeId":"779e2357-6e8e-4da7-9ed8-c7b96f01e1cd","type":"automated_decision"},{"metadata":{"appName":"slack","chatOpsConnectionId":"4ac5fcf2-8c37-4f5c-9bbf-8b2092bd5815","continueOnFailure":false,"identifier":"post_message","isDisabled":false,"parameters":{"input":{"attachments":[],"message":"@{{[e014f637-cb60-4dee-b905-742be69c8360].[pr_slack_user]}} - Changes requested by {{[5863a896-2c90-4fd9-b46c-1a4ecace7bd6].[review].[user].[login]}} is up at {{[5863a896-2c90-4fd9-b46c-1a4ecace7bd6].[review].[html_url]}}","recipient":"komand-test"}}},"name":"Post Message","nodeId":"9911afb2-09f4-4a8c-9fc4-5f7f22cd8def","type":"action_chatops"},{"metadata":{"parameters":{"defaultEdgeId":"6551e979-370b-41d6-9838-aff4d868fe31","stepControlParams":[{"edgeId":"489c79ac-2b26-48c9-81d7-c608a162b0f9","expression":{"left":{"name":"Github Pull Request Review Webhook.review.state","type":"variable"},"op":"=","right":{"type":"literal","value":"approved"},"type":"binary"},"expressionText":"({{[Github Pull Request Review Webhook].[review].[state]}} = \"approved\")"},{"edgeId":"6551e979-370b-41d6-9838-aff4d868fe31","expression":{},"expressionText":""},{"edgeId":"bdc77428-7349-4a8f-90de-6280fddefe6d","expression":{"left":{"name":"Github Pull Request Review Webhook.review.state","type":"variable"},"op":"=","right":{"type":"literal","value":"changes_requested"},"type":"binary"},"expressionText":"({{[Github Pull Request Review Webhook].[review].[state]}} = \"changes_requested\")"}]}},"name":"Review State","nodeId":"ac267e9f-c41b-491e-8138-cee11bf19cfe","type":"automated_decision"},{"metadata":{"continueOnFailure":false,"customOutputSchema":{"definitions":{},"properties":{"pr_slack_user":{"description":"Sample output result2 (delete or edit)","order":2,"title":"Result2","type":"string"},"review_slack_user":{"description":"Sample output result1 (delete or edit)","order":1,"title":"Result1","type":"string"}},"title":"Variables","type":"object"},"identifier":"run","isCloud":false,"isDisabled":false,"orchestratorId":"6e2b4b63-3232-4708-bb58-83986bbc150b","parameters":{"input":{"function":"def run(params={}):\n    return { 'review_slack_user': params.get('review_github_user').rstrip('-r7'), 'pr_slack_user': params.get('pr_github_user').rstrip('-r7') }","input":{"pr_github_user":"{{[5863a896-2c90-4fd9-b46c-1a4ecace7bd6].[pull_request].[user].[login]}}","review_github_user":"{{[5863a896-2c90-4fd9-b46c-1a4ecace7bd6].[review].[user].[login]}}"}}},"plugin":{"name":"python_2_script","vendor":"rapid7","version":"2.0.2"}},"name":"Strip -R7 from Github User","nodeId":"e014f637-cb60-4dee-b905-742be69c8360","type":"action"}],"summary":"","tags":[],"timeSavingsDisplayUnit":"minutes","timeSavingsSeconds":2400}}